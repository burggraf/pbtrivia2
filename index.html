<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>PB Trivia - Multi-User Trivia Game</title>
    <meta name="title" content="PB Trivia - Multi-User Trivia Game" />
    <meta
      name="description"
      content="Real-time multi-user trivia application for pubs, restaurants, and private events"
    />

    <!--
      Customize these meta tags for deployment:
      - Update title and description for SEO
      - Add Open Graph tags for social sharing
      - Add your own favicon in public/ directory
    -->
    <script>
      ;(function applyInitialTheme() {
        const storageKey = 'pbtrivia:theme'
        const root = document.documentElement
        const systemPrefersDark =
          typeof window.matchMedia === 'function' &&
          window.matchMedia('(prefers-color-scheme: dark)').matches

        let storedPreference = null

        try {
          storedPreference = window.localStorage.getItem(storageKey)
        } catch (error) {
          storedPreference = null
        }

        const isValidPreference = value => {
          return value === 'light' || value === 'dark' || value === 'system'
        }

        const preference = isValidPreference(storedPreference) ? storedPreference : 'system'
        const resolvedTheme = preference === 'system' ? (systemPrefersDark ? 'dark' : 'light') : preference

        root.dataset.theme = resolvedTheme

        if (resolvedTheme === 'dark') {
          root.classList.add('dark')
        } else {
          root.classList.remove('dark')
        }

        root.style.colorScheme = resolvedTheme
      })()
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
